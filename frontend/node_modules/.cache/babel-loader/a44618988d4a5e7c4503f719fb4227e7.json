{"ast":null,"code":"let knightPosition = [0, 0];\n/* export function moveKnight(toX, toY, posHandler, pieceName) {\r\n  knightPosition = [toX, toY];\r\n  posHandler(toX, toY);\r\n} */\n\nexport function canMoveKnight(toX, toY) {\n  const [x, y] = knightPosition;\n  const dx = toX - x;\n  const dy = toY - y;\n  return Math.abs(dx) === 2 && Math.abs(dy) === 1 || Math.abs(dx) === 1 && Math.abs(dy) === 2;\n}\nexport function movePiece(toX, toY, posHandler, item) {\n  posHandler(prevState => ({ ...prevState,\n    [item.pieceName]: {\n      row: toY,\n      col: toX,\n      hasMoved: true\n    }\n  }));\n}\nexport function canMovePiece(toX, toY, item, piecePositions) {\n  if (!item.pieceName) return false;\n  const dx = toX - item.piecePosition.col;\n  const dy = toY - item.piecePosition.row;\n  const pieceName = item.pieceName.split(\"_\")[0];\n\n  switch (pieceName) {\n    case \"castle\":\n      return Math.abs(dx) === 0 && Math.abs(dy) > 0 || Math.abs(dx) > 0 && Math.abs(dy) === 0;\n\n    case \"knight\":\n      return Math.abs(dx) === 2 && Math.abs(dy) === 1 || Math.abs(dx) === 1 && Math.abs(dy) === 2;\n\n    case \"bishop\":\n      return !(Math.abs(dx) === 0 && Math.abs(dy) > 0) && !(Math.abs(dx) > 0 && Math.abs(dy) === 0) && (Math.abs(dx) === Math.abs(dy) || Math.abs(dx) === Math.abs(dy));\n\n    case \"queen\":\n      return Math.abs(dx) === 0 && Math.abs(dy) > 0 || Math.abs(dx) > 0 && Math.abs(dy) === 0 || Math.abs(dx) === Math.abs(dy) || Math.abs(dx) === Math.abs(dy);\n\n    case \"pawn\":\n      if (!item.piecePosition.hasMoved) return Math.abs(dx) === 0 && (dy === -1 || dy === -2);\n      return dx === 0 && dy === 1;\n\n    default:\n      break;\n  }\n}","map":{"version":3,"names":["knightPosition","canMoveKnight","toX","toY","x","y","dx","dy","Math","abs","movePiece","posHandler","item","prevState","pieceName","row","col","hasMoved","canMovePiece","piecePositions","piecePosition","split"],"sources":["C:/Users/charl/Documents/Code/Web Dev/Chess-Online/chessproject/frontend/src/components/Game.js"],"sourcesContent":["let knightPosition = [0, 0];\r\n\r\n/* export function moveKnight(toX, toY, posHandler, pieceName) {\r\n  knightPosition = [toX, toY];\r\n  posHandler(toX, toY);\r\n} */\r\n\r\nexport function canMoveKnight(toX, toY) {\r\n    const [x, y] = knightPosition;\r\n    const dx = toX - x;\r\n    const dy = toY - y;\r\n\r\n    return (\r\n        (Math.abs(dx) === 2 && Math.abs(dy) === 1) ||\r\n        (Math.abs(dx) === 1 && Math.abs(dy) === 2)\r\n    );\r\n}\r\n\r\nexport function movePiece(toX, toY, posHandler, item) {\r\n    posHandler((prevState) => ({\r\n        ...prevState,\r\n        [item.pieceName]: { row: toY, col: toX, hasMoved: true },\r\n    }));\r\n}\r\n\r\nexport function canMovePiece(toX, toY, item, piecePositions) {\r\n    if (!item.pieceName) return false;\r\n    const dx = toX - item.piecePosition.col;\r\n    const dy = toY - item.piecePosition.row;\r\n\r\n    const pieceName = item.pieceName.split(\"_\")[0];\r\n    switch (pieceName) {\r\n        case \"castle\":\r\n            return (\r\n                (Math.abs(dx) === 0 && Math.abs(dy) > 0) ||\r\n                (Math.abs(dx) > 0 && Math.abs(dy) === 0)\r\n            );\r\n\r\n        case \"knight\":\r\n            return (\r\n                (Math.abs(dx) === 2 && Math.abs(dy) === 1) ||\r\n                (Math.abs(dx) === 1 && Math.abs(dy) === 2)\r\n            );\r\n\r\n        case \"bishop\":\r\n            return (\r\n                !(Math.abs(dx) === 0 && Math.abs(dy) > 0) &&\r\n                !(Math.abs(dx) > 0 && Math.abs(dy) === 0) &&\r\n                (Math.abs(dx) === Math.abs(dy) || Math.abs(dx) === Math.abs(dy))\r\n            );\r\n\r\n        case \"queen\":\r\n            return (\r\n                (Math.abs(dx) === 0 && Math.abs(dy) > 0) ||\r\n                (Math.abs(dx) > 0 && Math.abs(dy) === 0) ||\r\n                Math.abs(dx) === Math.abs(dy) ||\r\n                Math.abs(dx) === Math.abs(dy)\r\n            );\r\n\r\n        case \"pawn\":\r\n            if (!item.piecePosition.hasMoved)\r\n                return Math.abs(dx) === 0 && (dy === -1 || dy === -2);\r\n            return dx === 0 && dy === 1;\r\n\r\n        default:\r\n            break;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}