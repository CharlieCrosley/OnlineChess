{"ast":null,"code":"import _slicedToArray from\"C:/Users/charl/Documents/Code/Web Dev/Chess-Online/chessproject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Piece from\"./Piece\";import BoardSquare from\"./BoardSquare\";import{DndProvider}from\"react-dnd\";import{HTML5Backend}from\"react-dnd-html5-backend\";import{ItemTypes}from\"./Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Board(_ref){var boardState=_ref.boardState,setBoardState=_ref.setBoardState,setTakenPieces=_ref.setTakenPieces;var squares=[];for(var i=0;i<64;i++){squares.push(renderSquare(i,boardState,setBoardState,setTakenPieces));}return/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:\"100%\",display:\"flex\",flexWrap:\"wrap\"},children:squares})});}function renderSquare(i,boardState,setBoardState,setTakenPieces){var x=i%8;var y=Math.floor(i/8);var pieceImgPath,pieceName,pieceState;for(var _i=0,_Object$entries=Object.entries(boardState);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),piece=_Object$entries$_i[0],state=_Object$entries$_i[1];if(x===state.col&&y===state.row&&state.isAlive){var pieceNameSplit=piece.split(\"_\");pieceName=piece;pieceState=state;var piecePathName=pieceNameSplit[0]+\"_\"+pieceNameSplit[1];pieceImgPath=require(\"../assets/images/pieces/\"+piecePathName+\".png\");break;}}return/*#__PURE__*/_jsx(\"div\",{style:{width:\"12.5%\",height:\"12.5%\"},children:/*#__PURE__*/_jsx(BoardSquare,{x:x,y:y,setBoardState:setBoardState,setTakenPieces:setTakenPieces,boardState:boardState,pieceName:pieceName,pieceState:pieceState,children:pieceName&&pieceState.isAlive&&/*#__PURE__*/_jsx(Piece,{imgSrc:pieceImgPath,itemType:ItemTypes.PIECE,pieceName:pieceName,pieceState:pieceState})})},i);}","map":{"version":3,"names":["React","Piece","BoardSquare","DndProvider","HTML5Backend","ItemTypes","Board","boardState","setBoardState","setTakenPieces","squares","i","push","renderSquare","width","height","display","flexWrap","x","y","Math","floor","pieceImgPath","pieceName","pieceState","Object","entries","piece","state","col","row","isAlive","pieceNameSplit","split","piecePathName","require","PIECE"],"sources":["C:/Users/charl/Documents/Code/Web Dev/Chess-Online/chessproject/frontend/src/components/Board.js"],"sourcesContent":["import React from \"react\";\r\nimport Piece from \"./Piece\";\r\nimport BoardSquare from \"./BoardSquare\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { ItemTypes } from \"./Constants\";\r\n\r\nexport default function Board({ boardState, setBoardState, setTakenPieces }) {\r\n    const squares = [];\r\n    for (let i = 0; i < 64; i++) {\r\n        squares.push(\r\n            renderSquare(i, boardState, setBoardState, setTakenPieces)\r\n        );\r\n    }\r\n\r\n    return (\r\n        <DndProvider backend={HTML5Backend}>\r\n            <div\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                }}\r\n            >\r\n                {squares}\r\n            </div>\r\n        </DndProvider>\r\n    );\r\n}\r\n\r\nfunction renderSquare(i, boardState, setBoardState, setTakenPieces) {\r\n    const x = i % 8;\r\n    const y = Math.floor(i / 8);\r\n    let pieceImgPath, pieceName, pieceState;\r\n\r\n    for (const [piece, state] of Object.entries(boardState)) {\r\n        if (x === state.col && y === state.row && state.isAlive) {\r\n            const pieceNameSplit = piece.split(\"_\");\r\n            pieceName = piece;\r\n            pieceState = state;\r\n            const piecePathName = pieceNameSplit[0] + \"_\" + pieceNameSplit[1];\r\n            pieceImgPath = require(\"../assets/images/pieces/\" +\r\n                piecePathName +\r\n                \".png\");\r\n            break;\r\n        }\r\n    }\r\n    return (\r\n        <div key={i} style={{ width: \"12.5%\", height: \"12.5%\" }}>\r\n            <BoardSquare\r\n                x={x}\r\n                y={y}\r\n                setBoardState={setBoardState}\r\n                setTakenPieces={setTakenPieces}\r\n                boardState={boardState}\r\n                pieceName={pieceName}\r\n                pieceState={pieceState}\r\n            >\r\n                {pieceName && pieceState.isAlive && (\r\n                    <Piece\r\n                        imgSrc={pieceImgPath}\r\n                        itemType={ItemTypes.PIECE}\r\n                        pieceName={pieceName}\r\n                        pieceState={pieceState}\r\n                    />\r\n                )}\r\n            </BoardSquare>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"8JAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,OAASC,WAAT,KAA4B,WAA5B,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,OAASC,SAAT,KAA0B,aAA1B,C,2CAEA,cAAe,SAASC,MAAT,MAA8D,IAA7CC,WAA6C,MAA7CA,UAA6C,CAAjCC,aAAiC,MAAjCA,aAAiC,CAAlBC,cAAkB,MAAlBA,cAAkB,CACzE,GAAMC,QAAO,CAAG,EAAhB,CACA,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,EAApB,CAAwBA,CAAC,EAAzB,CAA6B,CACzBD,OAAO,CAACE,IAAR,CACIC,YAAY,CAACF,CAAD,CAAIJ,UAAJ,CAAgBC,aAAhB,CAA+BC,cAA/B,CADhB,EAGH,CAED,mBACI,KAAC,WAAD,EAAa,OAAO,CAAEL,YAAtB,uBACI,YACI,KAAK,CAAE,CACHU,KAAK,CAAE,MADJ,CAEHC,MAAM,CAAE,MAFL,CAGHC,OAAO,CAAE,MAHN,CAIHC,QAAQ,CAAE,MAJP,CADX,UAQKP,OARL,EADJ,EADJ,CAcH,CAED,QAASG,aAAT,CAAsBF,CAAtB,CAAyBJ,UAAzB,CAAqCC,aAArC,CAAoDC,cAApD,CAAoE,CAChE,GAAMS,EAAC,CAAGP,CAAC,CAAG,CAAd,CACA,GAAMQ,EAAC,CAAGC,IAAI,CAACC,KAAL,CAAWV,CAAC,CAAG,CAAf,CAAV,CACA,GAAIW,aAAJ,CAAkBC,SAAlB,CAA6BC,UAA7B,CAEA,6BAA6BC,MAAM,CAACC,OAAP,CAAenB,UAAf,CAA7B,gCAAyD,CAApD,6DAAOoB,KAAP,uBAAcC,KAAd,uBACD,GAAIV,CAAC,GAAKU,KAAK,CAACC,GAAZ,EAAmBV,CAAC,GAAKS,KAAK,CAACE,GAA/B,EAAsCF,KAAK,CAACG,OAAhD,CAAyD,CACrD,GAAMC,eAAc,CAAGL,KAAK,CAACM,KAAN,CAAY,GAAZ,CAAvB,CACAV,SAAS,CAAGI,KAAZ,CACAH,UAAU,CAAGI,KAAb,CACA,GAAMM,cAAa,CAAGF,cAAc,CAAC,CAAD,CAAd,CAAoB,GAApB,CAA0BA,cAAc,CAAC,CAAD,CAA9D,CACAV,YAAY,CAAGa,OAAO,CAAC,2BACnBD,aADmB,CAEnB,MAFkB,CAAtB,CAGA,MACH,CACJ,CACD,mBACI,YAAa,KAAK,CAAE,CAAEpB,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,OAA1B,CAApB,uBACI,KAAC,WAAD,EACI,CAAC,CAAEG,CADP,CAEI,CAAC,CAAEC,CAFP,CAGI,aAAa,CAAEX,aAHnB,CAII,cAAc,CAAEC,cAJpB,CAKI,UAAU,CAAEF,UALhB,CAMI,SAAS,CAAEgB,SANf,CAOI,UAAU,CAAEC,UAPhB,UASKD,SAAS,EAAIC,UAAU,CAACO,OAAxB,eACG,KAAC,KAAD,EACI,MAAM,CAAET,YADZ,CAEI,QAAQ,CAAEjB,SAAS,CAAC+B,KAFxB,CAGI,SAAS,CAAEb,SAHf,CAII,UAAU,CAAEC,UAJhB,EAVR,EADJ,EAAUb,CAAV,CADJ,CAsBH"},"metadata":{},"sourceType":"module"}