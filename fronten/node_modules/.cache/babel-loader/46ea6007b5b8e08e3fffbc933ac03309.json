{"ast":null,"code":"import _slicedToArray from\"C:/Users/charl/Documents/Code/Web Dev/Chess-Online/chessproject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{memo}from\"react\";import{Square}from\"./ChessElements\";import{ItemTypes}from\"./Constants\";import{useDrop}from\"react-dnd\";import{canMovePiece,movePiece}from\"./Game\";import{PossibleMoveDot,MoveHoverHighlight}from\"./ChessElements\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BoardSquare(_ref){var x=_ref.x,y=_ref.y,children=_ref.children,setBoardState=_ref.setBoardState,setTakenPieces=_ref.setTakenPieces,boardState=_ref.boardState;var dark=(x+y)%2===1;// Allow drag items to drop into each of the board squares\nvar _useDrop=useDrop(function(){return{accept:[ItemTypes.PIECE],canDrop:function canDrop(item,monitor){return canMovePiece(x,y,item,boardState,monitor);},drop:function drop(item){return movePiece(x,y,setBoardState,setTakenPieces,item,boardState);},collect:function collect(monitor){return{isOver:!!monitor.isOver(),canDrop:!!monitor.canDrop()};}};},[boardState]),_useDrop2=_slicedToArray(_useDrop,2),_useDrop2$=_useDrop2[0],isOver=_useDrop2$.isOver,canDrop=_useDrop2$.canDrop,drop=_useDrop2[1];return/*#__PURE__*/_jsxs(\"div\",{ref:drop,style:{position:\"relative\",width:\"100%\",height:\"100%\"},children:[/*#__PURE__*/_jsx(Square,{dark:dark,children:children}),!isOver&&canDrop&&/*#__PURE__*/_jsx(PossibleMoveDot,{dark:dark}),isOver&&canDrop&&/*#__PURE__*/_jsx(MoveHoverHighlight,{})]});}export default/*#__PURE__*/memo(BoardSquare);","map":{"version":3,"names":["React","memo","Square","ItemTypes","useDrop","canMovePiece","movePiece","PossibleMoveDot","MoveHoverHighlight","BoardSquare","x","y","children","setBoardState","setTakenPieces","boardState","dark","accept","PIECE","canDrop","item","monitor","drop","collect","isOver","position","width","height"],"sources":["C:/Users/charl/Documents/Code/Web Dev/Chess-Online/chessproject/frontend/src/components/BoardSquare.js"],"sourcesContent":["import React, { memo } from \"react\";\r\nimport { Square } from \"./ChessElements\";\r\nimport { ItemTypes } from \"./Constants\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { canMovePiece, movePiece } from \"./Game\";\r\nimport { PossibleMoveDot, MoveHoverHighlight } from \"./ChessElements\";\r\n\r\nfunction BoardSquare({\r\n    x,\r\n    y,\r\n    children,\r\n    setBoardState,\r\n    setTakenPieces,\r\n    boardState,\r\n}) {\r\n    const dark = (x + y) % 2 === 1;\r\n\r\n    // Allow drag items to drop into each of the board squares\r\n    const [{ isOver, canDrop }, drop] = useDrop(\r\n        () => ({\r\n            accept: [ItemTypes.PIECE],\r\n            canDrop: (item, monitor) =>\r\n                canMovePiece(x, y, item, boardState, monitor),\r\n            drop: (item) =>\r\n                movePiece(\r\n                    x,\r\n                    y,\r\n                    setBoardState,\r\n                    setTakenPieces,\r\n                    item,\r\n                    boardState\r\n                ),\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n                canDrop: !!monitor.canDrop(),\r\n            }),\r\n        }),\r\n        [boardState]\r\n    );\r\n\r\n    return (\r\n        <div\r\n            ref={drop}\r\n            style={{\r\n                position: \"relative\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n            }}\r\n        >\r\n            <Square dark={dark}>{children}</Square>\r\n\r\n            {!isOver && canDrop && <PossibleMoveDot dark={dark} />}\r\n            {isOver && canDrop && <MoveHoverHighlight />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default memo(BoardSquare);\r\n"],"mappings":"8JAAA,MAAOA,MAAP,EAAgBC,IAAhB,KAA4B,OAA5B,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,QAAxC,CACA,OAASC,eAAT,CAA0BC,kBAA1B,KAAoD,iBAApD,C,wFAEA,QAASC,YAAT,MAOG,IANCC,EAMD,MANCA,CAMD,CALCC,CAKD,MALCA,CAKD,CAJCC,QAID,MAJCA,QAID,CAHCC,aAGD,MAHCA,aAGD,CAFCC,cAED,MAFCA,cAED,CADCC,UACD,MADCA,UACD,CACC,GAAMC,KAAI,CAAG,CAACN,CAAC,CAAGC,CAAL,EAAU,CAAV,GAAgB,CAA7B,CAEA;AACA,aAAoCP,OAAO,CACvC,iBAAO,CACHa,MAAM,CAAE,CAACd,SAAS,CAACe,KAAX,CADL,CAEHC,OAAO,CAAE,iBAACC,IAAD,CAAOC,OAAP,QACLhB,aAAY,CAACK,CAAD,CAAIC,CAAJ,CAAOS,IAAP,CAAaL,UAAb,CAAyBM,OAAzB,CADP,EAFN,CAIHC,IAAI,CAAE,cAACF,IAAD,QACFd,UAAS,CACLI,CADK,CAELC,CAFK,CAGLE,aAHK,CAILC,cAJK,CAKLM,IALK,CAMLL,UANK,CADP,EAJH,CAaHQ,OAAO,CAAE,iBAACF,OAAD,QAAc,CACnBG,MAAM,CAAE,CAAC,CAACH,OAAO,CAACG,MAAR,EADS,CAEnBL,OAAO,CAAE,CAAC,CAACE,OAAO,CAACF,OAAR,EAFQ,CAAd,EAbN,CAAP,EADuC,CAmBvC,CAACJ,UAAD,CAnBuC,CAA3C,8DAASS,MAAT,YAASA,MAAT,CAAiBL,OAAjB,YAAiBA,OAAjB,CAA4BG,IAA5B,cAsBA,mBACI,aACI,GAAG,CAAEA,IADT,CAEI,KAAK,CAAE,CACHG,QAAQ,CAAE,UADP,CAEHC,KAAK,CAAE,MAFJ,CAGHC,MAAM,CAAE,MAHL,CAFX,wBAQI,KAAC,MAAD,EAAQ,IAAI,CAAEX,IAAd,UAAqBJ,QAArB,EARJ,CAUK,CAACY,MAAD,EAAWL,OAAX,eAAsB,KAAC,eAAD,EAAiB,IAAI,CAAEH,IAAvB,EAV3B,CAWKQ,MAAM,EAAIL,OAAV,eAAqB,KAAC,kBAAD,IAX1B,GADJ,CAeH,CAED,2BAAelB,IAAI,CAACQ,WAAD,CAAnB"},"metadata":{},"sourceType":"module"}